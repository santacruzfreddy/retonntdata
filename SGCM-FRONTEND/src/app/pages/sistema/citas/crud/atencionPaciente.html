<h2 mat-dialog-title>Atencion del paciente</h2>
<mat-divider></mat-divider>
<mat-dialog-content class="mat-typography">
    <form [formGroup]="personForm">
        <!-- Cédula -->
        <div class="row">
            <div class="col-12 col-md-7">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Cédula</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <input matInput formControlName="cedula" [readonly]="true" />
                </mat-form-field>
            </div>
        </div>

        <!-- Nombres y Apellidos -->
        <div class="row">
            <div class="col-12 col-md-6">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Nombres</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <input matInput formControlName="nombre" [readonly]="true" />
                </mat-form-field>
            </div>
            <div class="col-12 col-md-6">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Apellidos</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <input matInput formControlName="apellido" [readonly]="true" />
                </mat-form-field>
            </div>
        </div>

        <!-- Fecha de nacimiento y Ocupación -->
        <div class="row">
            <div class="col-12 col-md-6">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Fecha de nacimiento</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <input matInput [matDatepicker]="pickerFechaNacimiento" formControlName="fechaNacimiento"
                        [readonly]="true" />
                    <mat-datepicker-toggle matSuffix [for]="pickerFechaNacimiento"></mat-datepicker-toggle>
                    <mat-datepicker #pickerFechaNacimiento></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-12 col-md-6">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Ocupación</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <input matInput formControlName="ocupacion" [readonly]="true" />
                </mat-form-field>
            </div>
        </div>

        <!-- Antecedentes -->
        <div class="row">
            <div class="col-12">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Antecedentes</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <textarea matInput formControlName="antecedentes"></textarea>
                </mat-form-field>
            </div>
        </div>

        <!-- Categorias y diagnosticos -->
        <mat-divider></mat-divider>
        <br>
        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">CIE 10</mat-label>
        <br>
        <div class="row">
            <div class="col-12 col-md-6">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Categoria</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <mat-select formControlName="categoria">
                        <mat-option *ngFor="let category of categories" [value]="category.id">
                            {{ category.code }} / {{ category.name }}
                            <mat-divider></mat-divider>
                            <mat-divider></mat-divider>
                            <mat-divider></mat-divider>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="row">
                <div class="col-12 ">
                    <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Diagnostico</mat-label>
                    <mat-form-field appearance="outline" class="w-100" color="primary">
                        <mat-select formControlName="diagnosis">
                            <mat-option *ngFor="let diagnosis of diagnoses" [value]="diagnosis.id">
                                {{ diagnosis.code }} / {{ diagnosis.name }}
                                <mat-divider></mat-divider>
                                <mat-divider></mat-divider>
                                <mat-divider></mat-divider>
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <mat-divider></mat-divider>
        <br>

        <!-- Campos editables -->
        <div class="row">
            <div class="col-12">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Motivo de Consulta</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <textarea matInput formControlName="motivoConsulta"></textarea>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Estado Actual</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <textarea matInput formControlName="estadoActual"></textarea>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Tareas de Intersesión</mat-label>
                <mat-form-field appearance="outline" class="w-100" color="primary">
                    <textarea matInput formControlName="tareasInterseccion"></textarea>
                </mat-form-field>
            </div>
        </div>
    </form>
</mat-dialog-content>
<mat-divider></mat-divider>
<mat-dialog-actions align="center">
    <mat-card-content>
        <button mat-flat-button color="warn" mat-dialog-close>Cancelar</button>
        <button mat-button mat-flat-button color="primary" (click)="onSubmit()">Guardar</button>
    </mat-card-content>
</mat-dialog-actions>